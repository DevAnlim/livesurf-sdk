# LiveSurf SDK (PHP)

- PHP SDK –¥–ª—è LiveSurf API (https://api.livesurf.ru/).
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (https://livesurf.ru/api_documentation.html)
- –ü–æ–ª—É—á–∏—Ç—å API-–∫–ª—é—á (https://livesurf.ru/api)

## üß© –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- PSR-4 –∫–ª–∞—Å—Å `Decpro\LiveSurfSdk\LiveSurfApi`
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ API
- –ö–æ–Ω—Ç—Ä–æ–ª—å –ª–∏–º–∏—Ç–∞ (10 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö 429/5xx
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —á–∏—Ç–∞–µ–º—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ß–µ—Ä–µ–∑ Composer
```bash
composer require decpro/livesurf-sdk
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é (–ª–æ–∫–∞–ª—å–Ω–æ):
```php
require_once __DIR__ . '/src/LiveSurfApi.php';
use Decpro\LiveSurfSdk\LiveSurfApi;
```

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';
use Decpro\LiveSurfSdk\LiveSurfApi;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
$api = new LiveSurfApi('–í–ê–®_API_–ö–õ–Æ–ß');

try {
    // 1Ô∏è‚É£ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    $user = $api->getUser();
    echo "–ë–∞–ª–∞–Ω—Å: {$user['credits']} / –†–µ–∂–∏–º: {$user['workmode']}";

    // 2Ô∏è‚É£ –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    $categories = $api->getCategories();
    echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:";

    foreach ($categories as $cat) {
        echo "- {$cat['id']}: {$cat['name']}";
    }

    // 3Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
    $newGroup = $api->createGroup([
        'name' => '–¢–µ—Å—Ç–æ–≤–∞—è –≥—Ä—É–ø–ø–∞ PHP SDK',
        'hour_limit' => 50,
        'day_limit' => 1000,
        'category' => 1,
        'language' => 1,
        'timezone' => 'Europe/Moscow',
        'use_profiles' => true,
        'geo' => [1, 2],
        'pages' => [
            [
                'url' => ['https://example.com'],
                'showtime' => [15, 30]
            ]
        ]
    ]);

    echo "–°–æ–∑–¥–∞–Ω–∞ –≥—Ä—É–ø–ø–∞ ID: {$newGroup['id']}";

    // 4Ô∏è‚É£ –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≥—Ä—É–ø–ø
    $groups = $api->getGroups();
    echo "–í—Å–µ–≥–æ –≥—Ä—É–ø–ø: " . count($groups) . "";

    // 5Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä—É–µ–º –≥—Ä—É–ø–ø—É
    $clone = $api->cloneGroup($newGroup['id'], '–ö–æ–ø–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π –≥—Ä—É–ø–ø—ã');
    echo "–°–æ–∑–¥–∞–Ω –∫–ª–æ–Ω –≥—Ä—É–ø–ø—ã ID: {$clone['id']}";

    // 6Ô∏è‚É£ –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä–µ–¥–∏—Ç—ã –≤ –≥—Ä—É–ø–ø—É
    $api->addGroupCredits($newGroup['id'], 100);
    echo "–ö—Ä–µ–¥–∏—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—á–∏—Å–ª–µ–Ω—ã.";

    // 7Ô∏è‚É£ –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    $stats = $api->getStats(['group_id' => $newGroup['id'], 'date' => date('Y-m-d')]);
    echo "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:";
    print_r($stats);

    // 8Ô∏è‚É£ –£–¥–∞–ª—è–µ–º –≥—Ä—É–ø–ø—É
    $api->deleteGroup($newGroup['id']);
    echo "–ì—Ä—É–ø–ø–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.";

} catch (Exception $e) {
    echo "‚ö†Ô∏è –û—à–∏–±–∫–∞: " . $e->getMessage();
}
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã API

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `getUser()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |
| `setAutoMode()` | –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–ê–†–ö) |
| `setManualMode()` | –í–∫–ª—é—á–µ–Ω–∏–µ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã |

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç—Ä–∞–Ω—ã, —è–∑—ã–∫–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏
| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `getCategories()` | –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| `getCountries()` | –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ç—Ä–∞–Ω |
| `getLanguages()` | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤ |
| `getSourcesAd()` | –°–ø–∏—Å–æ–∫ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫ |
| `getSourcesMessengers()` | –°–ø–∏—Å–æ–∫ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤ |
| `getSourcesSearch()` | –°–ø–∏—Å–æ–∫ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º |
| `getSourcesSocial()` | –°–ø–∏—Å–æ–∫ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π |

### –ì—Ä—É–ø–ø—ã
| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `getGroups()` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö |
| `getGroup(int $groupId)` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø–µ |
| `updateGroup(int $groupId, array $data)` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≥—Ä—É–ø–ø—ã |
| `deleteGroup(int $groupId)` | –£–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã |
| `createGroup(array $data)` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã |
| `cloneGroup(int $groupId, string $name)` | –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã |
| `addGroupCredits(int $groupId, int $credits)` | –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ –≥—Ä—É–ø–ø—ã |

### –°—Ç—Ä–∞–Ω–∏—Ü—ã
| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `getPage(int $pageId)` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ |
| `updatePage(int $pageId, array $data)` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| `deletePage(int $pageId)` | –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| `createPage(array $data)` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| `clonePage(int $pageId)` | –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| `movePageUp(int $pageId)` | –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–≤–µ—Ä—Ö |
| `movePageDown(int $pageId)` | –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–Ω–∏–∑ |
| `startPage(int $pageId)` | –ó–∞–ø—É—Å–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ —Ä–∞–±–æ—Ç—É |
| `stopPage(int $pageId)` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| `getStats(array $params)` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.
